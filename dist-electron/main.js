"use strict";const{app:i,BrowserWindow:c,BrowserView:h,Menu:g,BaseWindow:S,WebContentsView:b,Notification:d,globalShortcut:a,protocol:u,ipcMain:n}=require("electron"),l=require("path");let s;const m=process.env.NODE_ENV,f=m==="development";process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";i.commandLine.appendSwitch("disable-web-security");i.commandLine.appendSwitch("disable-features","OutOfBlinkCors");i.commandLine.appendSwitch("--ignore-certificate-errors","true");let e;u.registerSchemesAsPrivileged([{scheme:"app",privileges:{secure:!0,standard:!0}}]);const w=async()=>{e=new c({width:1e3,height:800,frame:!1,titleBarStyle:"default",backgroundColor:"#fff",title:"测试xxx",icon:l.join(__dirname,"../public/electron.png"),webPreferences:{webSecurity:!1,enableRemoteModule:!0,nodeIntegration:!0,preload:l.join(__dirname,"preload.js")}}),e.setAlwaysOnTop(!0),e.removeMenu(),setTimeout(()=>{e.setAlwaysOnTop(!1)},3e3),f?(e.loadURL("http://192.168.120.178:8881/#/home"),e.webContents.openDevTools()):(u.registerFileProtocol("atom",(t,o)=>{const r=t.url.substr(7);o({path:l.normalize(`${__dirname}/${r}`)})}),e.webContents.openDevTools());const{default:p}=await Promise.resolve().then(()=>require("./index-6027f6ce.js"));s=new p,n.on("show-notification",(t,o,r)=>{createNotification(o,r)}),n.on("setStore",(t,o,r)=>{s.set(o,r)}),n.on("getStore",(t,o)=>{let r=s.get(o);t.returnValue=r||""}),n.on("delStore",(t,o)=>{s.delete(o)}),n.on("clearStore",()=>{s.clear()}),n.on("hide-window",()=>{e.minimize()}),n.on("full-screen",(t,o)=>{e.setFullScreen(o)}),n.on("isFullScreen",(t,o)=>{t.returnValue=e.isFullScreen()}),n.on("close-window",()=>{e.close()}),a.register("CommandOrControl+R",()=>{e.reload()}),a.register("CommandOrControl+Shift+R",()=>{e.webContents.reloadIgnoringCache()})};i.whenReady().then(()=>{w(),new d({title:"测试",body:"测试开始"}).show()});i.on("window-all-closed",()=>{new d({title:"测试",body:"测试"}).show(),process.platform!=="darwin"&&i.quit()});i.on("activate",()=>{c.getAllWindows().length===0&&w()});
